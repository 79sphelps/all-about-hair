<form [formGroup]="requestForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="name">Name</label>
    <input
      id="name"
      type="text"
      class="form-control"
      formControlName="name"
      [minlength]="ef.nameMin"
      [maxlength]="ef.nameMax"
    />
    <div
      *ngIf="formErrors.name"
      class="small text-danger formErrors"
      [innerHTML]="formErrors.name"
    ></div>
  </div>

  <div class="form-group">
    <label for="email">Email</label>
    <input
      id="email"
      type="text"
      class="form-control"
      formControlName="email"
      [minlength]="ef.emailMin"
      [maxlength]="ef.emailMax"
    />
    <div
      *ngIf="formErrors.email"
      class="small text-danger formErrors"
      [innerHTML]="formErrors.email"
    ></div>
  </div>

  <div class="form-group">
    <label for="category">Category</label>
    <input
      id="category"
      type="text"
      class="form-control"
      formControlName="category"
      [minlength]="ef.categoryMin"
      [maxlength]="ef.categoryMax"
    />
    <div
      *ngIf="formErrors.category"
      class="small text-danger formErrors"
      [innerHTML]="formErrors.category"
    ></div>
  </div>

  <div class="form-group">
    <label for="message">Message</label>
    <input
      id="message"
      type="text"
      class="form-control"
      formControlName="message"
      [minlength]="ef.messageMin"
      [maxlength]="ef.messageMax"
    />
    <div
      *ngIf="formErrors.message"
      class="small text-danger formErrors"
      [innerHTML]="formErrors.message"
    ></div>
  </div>

  <!-- Submit -->
  <div class="form-group">
    <button
      type="submit"
      class="btn btn-primary"
      [attr.disabled]="requestForm.invalid || submitting ? true : null"
      [innerText]="submitBtnText"
    ></button>
    <!-- https://github.com/angular/angular/issues/11271#issuecomment-289806196 -->
    <app-submitting *ngIf="submitting"></app-submitting>
    <a
      *ngIf="!submitting"
      class="btn btn-link"
      (click)="resetForm()"
      tabindex="0"
      >Reset Form</a
    >

    <!-- API submission error -->
    <p *ngIf="error" class="mt-3 alert alert-danger">
      <strong>Error:</strong> There was a problem submitting the request. Please
      try again.
    </p>

    <p *ngIf="submitting" class="mt-3 alert alert-success">
      <strong>Success: </strong> Your request was submitted successfully.
    </p>
  </div>
</form>
